<!DOCTYPE html>
<html lang="en">
  <%- include('../partials/header') %>
  <body>
    <%- include('../partials/nav') %>
    <h1 class="text-center my-2 mb-2"><%= farm.name %></h1>
    <h3 class="text-center text-muted">Crea un nuovo prodotto</h3>

    <div class="container" style="height: 90vh">
      <div class="row">
        <div class="col-md d-flex justify-content-center mb-5">
          <div class="form-control" style="max-width: 32rem">
            <img
              src="https://images.unsplash.com/photo-1461354464878-ad92f492a5a0?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MjV8fGZhcm18ZW58MHx8MHx8&auto=format&fit=crop&w=800&q=60"
              class="img-fluid mb-3"
              alt=""
            />
            <form
              action="/produttori/<%= farm._id %>/prodotti "
              method="POST"
              enctype="multipart/form-data"
            >
              <!-- PRODUCT NAME -->
              <div class="form-floating mb-3">
                <input
                  type="text"
                  class="form-control"
                  placeholder="Nome Prodotto"
                  name="name"
                  id="name"
                />
                <label for="name" class="form-label">Nome Prodotto</label>
              </div>
              <!-- CATEGORY -->
              <div class="mb-3 form-floating">
                <select name="category" class="form-select" id="category">
                  <option value="null">Scegli la categoria</option>
                  <% for(let cat of categories){ %>
                  <option value="<%= cat %>"><%= cat %></option>
                  <% } %>
                </select>
                <label for="name" class="form-label">Categoria</label>
              </div>
              <!-- GROUPING PRICE AND STOCK -->
              <div class="row mb-2">
                <div class="col-md-6">
                  <div class="mb-3 form-floating">
                    <div class="input-group col-md-6"></div>
                    <input
                      type="text"
                      class="form-control"
                      name="price"
                      placeholder="Prezzo"
                      id="price"
                    />
                    <label for="price" class="form-label">Prezzo €/kg</label>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mb-3 form-floating">
                    <input
                      type="text"
                      class="form-control"
                      name="stock"
                      placeholder="Quantità"
                      id="stock"
                    />
                    <label for="stock" class="form-label">Quantità</label>
                  </div>
                </div>
              </div>
              <!-- IMAGE UPLOAD -->
              <div class="mb-3">
                <input
                  class="form-control p-3"
                  type="file"
                  name="image"
                  id="image"
                />
              </div>

              <div class="d-flex justify-content-center my-4">
                <button class="btn btn-sm btn-primary mx-2" type="submit">
                  Aggiungi
                </button>

                <a
                  class="btn btn-sm btn-danger mx-2"
                  href="/produttori/<%= farm._id %> "
                  >Annulla</a
                >
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <%- include('../partials/footer') %>
  </body>
</html>
